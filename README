        Данный  аpхив  содеpжит дистpибyтив Диалоговой системы стpyктypиpо-
ванного пpогpаммиpования, далее именyемой ДССП. Дистpибyтив включает в себя
полный  комплект файлов исходных текстов необходимых для генеpации системы.
Теоpетически  система может быть сгенеpиpована на любой машине имеющей ком-
пилятоp  языка  "С".  Пpактически  генеpация  пpоводилась на IBM PC и SPARC
station. Пpи pаспаковке дистpибyтив создает следyющие диpектоpии:
- doc      - содержит документацию по системе и библиотекам
- dssp     - исходные тексты для сбоpки виpтyальной машины
- examples - пpимеpы пpогpамм
- gen      - компоненты для сбоpки целевой системы
- lib      - библиотеки пpогpамм

        Для того, что бы запyстить ДССП ее нyжно сначала скомпоновать.



                Инструкция по компоновке ДССП

        Система  ДССП  состоит  из  2  частей: из виртуальной ДССП машины и
программы  которая  выполняется на этой машине. Виртуальная ДССП машина со-
держит  базовые команд ДССП реализованные на языке СИ и процедуру начальной
загрузки  ДССП  машины  и  запуска внешней программы. Исходные тексты на СИ
расположены  в каталоге dssp_sun/dssp. Программа для выполнения на ДССП ма-
шине  -  это специальным образом организованный набор команд для выполнения
ДССП  машиной.  Программа  для ДССП машины является результатом компоновки.
Компоновка - это процесс сборки программы компоновщиком из файла с описани-
ем  функций ядра и набора файлов инструментальной части системы, написанной
на языке ДССП. Файлы инструментальной системы и сам компоновщик расположены
в каталоге dssp_sun/dssp.
       Изменения в текстах на Си потребуется в случае если виртуальной ДССП
машине  необходимо  добавить  новую  базовую  операцию, например, работа со
внешним  устройством  и  т.п. После любой модификации исходных текстов ДССП
необходимо  скомпилировать  и  скомпоновать  систему заново. Если изменения
вносились в тексты на Си то проводят полный цикл компоновки.

                   Полный цикл компоновки

              1. Подготовка виртуальной ДССП машины

     Подготовка  виртуальной  машины производится в каталоге dssp_sun/dssp.
Исходные данные - СИ-файлы. Результат - исполняемый файл с виртуальной ДССП
машиной.
     Трансляция  осуществляется под управлением файла kern. Результатом вы-
полнения  файла является файл dssp.out и файл dssp.voc получаемый после за-
пуска  dssp.out  с  ключом  -v.  Также  файл  dssp.voc копируется в каталог
dssp_sun/gen

         2. Компоновка программы с инструментальной системой

     Компоновка программы производится в директории dssp_sun/gen. Предпола-
гается, что файл dssp.voc c описание базовых команд виртуальной ДССП машины
готов и находится в этом директории.
     Шаги на этапе компоновки.
     а)  Настройка распределения памяти в компонуемой программе выполняется
любым редактором текстов в файле TG.DSP. Его начало имеет вид:
---------------------------------------------------------------
 CR ." Control file of configuration DSSP/c" CR
 CR ." Configuration begin "

B10
[Паpаметpы компоновки]
900000 __ END_MEM     [верхняя граница памяти DSSP386]
470000 __ BEG_D1      [адрес начала данных DSSP386]
469990 __ END_PTM     [конец временного стека]
460000 __ BEG_PTM     [начало временного стека]
459980 __ CSB         [начало стека возвратов]
440000 __ OPSB        [начало стека операндов]
439996 __ END_WD1     [адрес конца собственных данных]
370000 __ BEG_WD1     [адрес начала собственных данных]
369996 __ END_YD1     [адрес конца сохраняемых данных]
300000 __ BEG_YD1     [адрес начала сохраняемых данных]
     5 __ NOMVER      [номер версии DSSP386]
    01 __ NOMRED      [номер редакции DSSP386]
    01 __ PLATFORM    [Hомеp платоpмы генеpации:
                       1-IBM PC 2-SUN 3-LINUX 4-R3000]

CR ." Configure system DSSP/c"  CR
---------------------------------------------------------------
     Смысл параметров понятен из комментариев.
     По  окончании настройки распределения памяти файл управления компонов-
кой должен быть записан на диск.
     б) Собственно компоновка производится запуском на выполнение файла go.
В  процессе компоновки по установленным ранее параметрам выбираются необхо-
димые файлы и формируется программа для ДССП машины. По окончании компонов-
ки  на  экран выдается список неопределенных имен, если они есть, указатели
компоновщика и рекомендации по дальнейшей сборке системы. Результатом рабо-
ты  компоновщика является файл dssp.thr. Также этот файл копируется в ката-
лог dssp_sun/dssp.
    в)  Запуск  системы  производится  файлом  run  или  командой  dssp.out
dssp.thr Все операции по компоновке можно выполняются файлом goall.

                 Сокращенный цикл компоновки

     Если изменения вносились только в ту часть текстов ДССП, которые напи-
саны  на  ее языке, т.е. в файлы из директория dssp_sun/gen, то первый этап
компоновки - подготовка виртуальной ДССП машины - можно опустить.